<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeneBot - Genetics Chatbot & Note Manager</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .chat-section, .notes-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
        }

        .chat-section h2, .notes-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .chat-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .chat-messages {
            height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            background: #fafafa;
        }

        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            line-height: 1.4;
        }

        .user-message {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            margin-left: 20px;
        }

        .bot-message {
            background: #f3e5f5;
            border-left: 4px solid #9c27b0;
            margin-right: 20px;
        }

        .chat-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }

        .chat-input button {
            padding: 12px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .chat-input button:hover {
            background: #2980b9;
        }

        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }

        .suggestion {
            background: #e0f7fa;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            border: 1px solid #80deea;
        }

        .suggestion:hover {
            background: #b2ebf2;
        }

        .add-note-form {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .add-note-form h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .add-note-form input,
        .add-note-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        .add-note-form textarea {
            height: 100px;
            resize: vertical;
        }

        .add-note-form button {
            width: 100%;
            padding: 12px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .add-note-form button:hover {
            background: #219a52;
        }

        .search-notes {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .search-notes input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .search-notes button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .search-notes button:first-of-type {
            background: #3498db;
            color: white;
        }

        .search-notes button:last-of-type {
            background: #95a5a6;
            color: white;
        }

        .notes-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .note-item {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #3498db;
        }

        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .note-title {
            font-weight: bold;
            color: #2c3e50;
            flex: 1;
        }

        .note-category {
            background: #3498db;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
        }

        .note-content {
            color: #555;
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .note-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #777;
        }

        .delete-note {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .delete-note:hover {
            background: #c0392b;
        }

        .stats {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .stats h3 {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üß¨ GeneBot - Genetics Chatbot & Note Manager</h1>
            <p>Your AI assistant for genetics concepts with integrated note-taking</p>
        </header>

        <div class="main-content">
            <!-- Chat Section -->
            <div class="chat-section">
                <h2>üí¨ Chat with GeneBot</h2>
                <div class="chat-container">
                    <div id="chat-messages" class="chat-messages">
                        <div class="message bot-message">
                            <strong>GeneBot:</strong> Hello! I'm your genetics assistant. I can help you understand DNA, RNA, genes, mutations, and other genetics concepts. What would you like to know?
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="user-input" placeholder="Ask about genetics (e.g., What is DNA?)" maxlength="500">
                        <button onclick="sendMessage()">Send</button>
                    </div>
                    <div class="suggestions">
                        <strong>Try asking:</strong>
                        <span class="suggestion" onclick="setSuggestion('What is DNA?')">What is DNA?</span>
                        <span class="suggestion" onclick="setSuggestion('Explain protein synthesis')">Explain protein synthesis</span>
                        <span class="suggestion" onclick="setSuggestion('What is a gene mutation?')">What is a gene mutation?</span>
                    </div>
                </div>
            </div>

            <!-- Notes Section -->
            <div class="notes-section">
                <h2>üìù Your Genetics Notes</h2>
                
                <!-- Add Note Form -->
                <div class="add-note-form">
                    <h3>Add New Note</h3>
                    <input type="text" id="note-title" placeholder="Note Title" maxlength="100">
                    <textarea id="note-content" placeholder="Note Content" maxlength="2000"></textarea>
                    <input type="text" id="note-category" placeholder="Category (e.g., DNA, RNA, Mutations)" maxlength="50">
                    <button onclick="addNote()">Save Note</button>
                </div>

                <!-- Search Notes -->
                <div class="search-notes">
                    <input type="text" id="search-query" placeholder="Search notes..." maxlength="100">
                    <button onclick="searchNotes()">Search</button>
                    <button onclick="clearSearch()">Clear</button>
                </div>

                <!-- Notes List -->
                <div id="notes-list" class="notes-list">
                    <!-- Notes will be loaded here -->
                </div>

                <!-- Statistics -->
                <div id="stats" class="stats">
                    <!-- Stats will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Genetics Knowledge Base
        const geneticsKnowledge = {
            "dna": "DNA (Deoxyribonucleic Acid) is the hereditary material in humans and almost all other organisms. It contains the genetic instructions for development, functioning, growth, and reproduction.",
            "rna": "RNA (Ribonucleic Acid) is a nucleic acid that plays crucial roles in coding, decoding, regulation, and expression of genes. Major types include mRNA, tRNA, and rRNA.",
            "gene": "A gene is the basic physical and functional unit of heredity. Genes are made up of DNA and act as instructions to make molecules called proteins.",
            "chromosome": "Chromosomes are thread-like structures located inside the nucleus of animal and plant cells. Each chromosome is made of protein and a single molecule of DNA.",
            "mutation": "A mutation is a change in a DNA sequence. Mutations can result from DNA copying mistakes, exposure to radiation or chemicals, or viral infection.",
            "protein": "Proteins are large, complex molecules that play many critical roles in the body. They do most of the work in cells and are required for the structure, function, and regulation of the body's tissues and organs.",
            "transcription": "Transcription is the process of making an RNA copy of a gene's DNA sequence. This copy, called mRNA, carries the genetic information needed to make proteins.",
            "translation": "Translation is the process where ribosomes in the cytoplasm or ER synthesize proteins after transcription of DNA to RNA in the cell's nucleus.",
            "genotype": "Genotype refers to the genetic constitution of an individual organism. It represents the specific allele combination for a particular gene.",
            "phenotype": "Phenotype refers to the observable physical properties of an organism including appearance, development, and behavior.",
            "allele": "An allele is one of two or more versions of a gene. An individual inherits two alleles for each gene, one from each parent.",
            "heredity": "Heredity is the passing of genetic traits from parents to their offspring through sexual or asexual reproduction.",
            "genome": "A genome is an organism's complete set of DNA, including all of its genes. The human genome contains about 3 billion base pairs.",
            "mitosis": "Mitosis is a process of cell division that results in two genetically identical daughter cells developing from a single parent cell.",
            "meiosis": "Meiosis is a special type of cell division that produces gametes (sperm and egg cells) with half the number of chromosomes of the parent cell."
        };

        // Global variables
        let currentNotes = [];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            loadNotes();
            loadStats();
            
            // Add Enter key support for chat
            document.getElementById('user-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Add Enter key support for note title
            document.getElementById('note-title').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('note-content').focus();
                }
            });
        });

        // Chat functionality
        function sendMessage() {
            const userInput = document.getElementById('user-input');
            const message = userInput.value.trim();
            
            if (!message) return;
            
            // Add user message to chat
            addMessageToChat('user', message);
            userInput.value = '';
            
            // Generate bot response
            const response = generateBotResponse(message);
            setTimeout(() => {
                addMessageToChat('bot', response);
            }, 500);
        }

        function generateBotResponse(userInput) {
            const input = userInput.toLowerCase().trim();
            
            // Check for greetings
            if (input.includes('hello') || input.includes('hi') || input.includes('hey')) {
                return "Hello! I'm GeneBot, your genetics assistant. I can help you understand DNA, RNA, genes, mutations, and other genetics concepts. What would you like to know?";
            }
            
            // Check for thanks
            if (input.includes('thank') || input.includes('thanks')) {
                return "You're welcome! I'm happy to help with your genetics questions. Is there anything else you'd like to know?";
            }
            
            // Direct concept lookup
            for (const [concept, definition] of Object.entries(geneticsKnowledge)) {
                if (input.includes(concept)) {
                    return definition;
                }
            }
            
            // Pattern-based responses
            if (input.includes('what is') || input.includes('tell me about') || input.includes('explain') || input.includes('define')) {
                for (const concept in geneticsKnowledge) {
                    if (input.includes(concept)) {
                        return geneticsKnowledge[concept];
                    }
                }
                return "I can explain various genetics concepts like DNA, RNA, genes, chromosomes, mutations, proteins, transcription, translation, genotype, phenotype, alleles, heredity, genome, mitosis, and meiosis. Which specific concept would you like me to explain?";
            }
            
            if (input.includes('difference between') || input.includes('different from') || input.includes('compare')) {
                if (input.includes('dna') && input.includes('rna')) {
                    return "DNA vs RNA: DNA is double-stranded and contains deoxyribose sugar, while RNA is single-stranded and contains ribose sugar. DNA uses thymine (T) as a base, while RNA uses uracil (U). DNA stores genetic information long-term, while RNA acts as a messenger and plays various roles in protein synthesis.";
                }
                if (input.includes('genotype') && input.includes('phenotype')) {
                    return "Genotype vs Phenotype: Genotype refers to the genetic makeup (specific alleles) of an organism, while phenotype refers to the observable physical characteristics. Genotype influences phenotype, but environmental factors can also affect phenotypic expression.";
                }
                if (input.includes('mitosis') && input.includes('meiosis')) {
                    return "Mitosis vs Meiosis: Mitosis produces two identical diploid daughter cells for growth and repair, while meiosis produces four genetically diverse haploid gametes for sexual reproduction. Meiosis involves two divisions and genetic recombination through crossing over.";
                }
            }
            
            if (input.includes('how does') || input.includes('how do') || input.includes('how is')) {
                if (input.includes('transcription')) {
                    return "Transcription works in three main steps: 1) Initiation - RNA polymerase binds to promoter region of DNA, 2) Elongation - RNA polymerase builds mRNA complementary to the DNA template strand, 3) Termination - mRNA transcript is released and RNA polymerase detaches from DNA.";
                }
                if (input.includes('translation')) {
                    return "Translation works by ribosomes reading mRNA codons and assembling amino acids into proteins: 1) Initiation - ribosome assembles around start codon, 2) Elongation - tRNA brings amino acids, ribosome forms peptide bonds, 3) Termination - stop codon signals release of completed protein.";
                }
                if (input.includes('dna replication')) {
                    return "DNA replication is semi-conservative and involves: 1) Helicase unwinds DNA double helix, 2) Primase adds RNA primers, 3) DNA polymerase adds complementary nucleotides, 4) Leading strand is continuous, lagging strand is in Okazaki fragments, 5) Ligase joins fragments together.";
                }
            }
            
            // Default response
            return "I'm not sure I understand your genetics question. I can help explain concepts like DNA, RNA, genes, mutations, protein synthesis, inheritance patterns, and cellular division. Could you try rephrasing your question?";
        }

        function addMessageToChat(sender, message) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.innerHTML = `<strong>${sender === 'user' ? 'You' : 'GeneBot'}:</strong> ${escapeHtml(message)}`;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function setSuggestion(question) {
            document.getElementById('user-input').value = question;
            document.getElementById('user-input').focus();
        }

        // Notes functionality
        function loadNotes() {
            const savedNotes = localStorage.getItem('geneticsNotes');
            if (savedNotes) {
                currentNotes = JSON.parse(savedNotes);
            } else {
                currentNotes = [];
            }
            displayNotes(currentNotes);
        }

        function saveNotes() {
            localStorage.setItem('geneticsNotes', JSON.stringify(currentNotes));
        }

        function displayNotes(notes) {
            const notesList = document.getElementById('notes-list');
            
            if (notes.length === 0) {
                notesList.innerHTML = '<p>No notes yet. Start by adding some notes above!</p>';
                return;
            }
            
            notesList.innerHTML = notes.map(note => `
                <div class="note-item">
                    <div class="note-header">
                        <div class="note-title">${escapeHtml(note.title)}</div>
                        <div class="note-category">${escapeHtml(note.category)}</div>
                    </div>
                    <div class="note-content">${escapeHtml(note.content)}</div>
                    <div class="note-footer">
                        <span>${note.timestamp}</span>
                        <button class="delete-note" onclick="deleteNote('${note.id}')">Delete</button>
                    </div>
                </div>
            `).join('');
        }

        function addNote() {
            const title = document.getElementById('note-title').value.trim();
            const content = document.getElementById('note-content').value.trim();
            const category = document.getElementById('note-category').value.trim() || 'general';
            
            if (!title || !content) {
                alert('Please enter both title and content for the note.');
                return;
            }
            
            const newNote = {
                id: generateId(),
                title: title,
                content: content,
                category: category,
                timestamp: new Date().toLocaleString()
            };
            
            currentNotes.unshift(newNote);
            saveNotes();
            
            // Clear form
            document.getElementById('note-title').value = '';
            document.getElementById('note-content').value = '';
            document.getElementById('note-category').value = '';
            
            // Update display
            displayNotes(currentNotes);
            loadStats();
        }

        function searchNotes() {
            const query = document.getElementById('search-query').value.trim().toLowerCase();
            
            if (!query) {
                displayNotes(currentNotes);
                return;
            }
            
            const filteredNotes = currentNotes.filter(note => 
                note.title.toLowerCase().includes(query) ||
                note.content.toLowerCase().includes(query) ||
                note.category.toLowerCase().includes(query)
            );
            
            displayNotes(filteredNotes);
        }

        function clearSearch() {
            document.getElementById('search-query').value = '';
            displayNotes(currentNotes);
        }

        function deleteNote(noteId) {
            if (!confirm('Are you sure you want to delete this note?')) {
                return;
            }
            
            currentNotes = currentNotes.filter(note => note.id !== noteId);
            saveNotes();
            displayNotes(currentNotes);
            loadStats();
        }

        function loadStats() {
            const stats = {
                total_notes: currentNotes.length,
                categories: [],
                category_counts: {}
            };
            
            // Calculate categories
            currentNotes.forEach(note => {
                if (!stats.categories.includes(note.category)) {
                    stats.categories.push(note.category);
                    stats.category_counts[note.category] = 1;
                } else {
                    stats.category_counts[note.category]++;
                }
            });
            
            displayStats(stats);
        }

        function displayStats(stats) {
            const statsDiv = document.getElementById('stats');
            
            let statsHTML = '<h3>üìä Note Statistics</h3>';
            statsHTML += `<div class="stat-item"><span>Total Notes:</span><span>${stats.total_notes}</span></div>`;
            
            if (stats.categories.length > 0) {
                statsHTML += '<div class="stat-item"><strong>Categories:</strong><span></span></div>';
                stats.categories.forEach(category => {
                    const count = stats.category_counts[category] || 0;
                    statsHTML += `<div class="stat-item"><span>‚Ä¢ ${category}:</span><span>${count}</span></div>`;
                });
            }
            
            statsDiv.innerHTML = statsHTML;
        }

        // Utility functions
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        function escapeHtml(unsafe) {
            return unsafe
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }
    </script>
</body>
</html>
